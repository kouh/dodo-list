<link rel="import" href="bower_components/polymer/polymer.html">
<dom-module id="dodo-list">
  <style>
    :host{
      display: block;
    }
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    #list{
      list-style: none;
    }

    #list li{
      display: flex;
    }

    .task-done{
      flex: 1;
    }
    .task-name{
      flex: 7;
    }
    .task-start{
      flex: 2;
    }
  </style>
  <template>
    <ul id="list">
      <template is="dom-repeat" items="{{ tasks }}">
        <li>
          <input type="checkbox" class="task-done" disabled="{{!item.started}}" checked="{{item.done::change}}">
          <span class="task-name">{{ item.name }}</span>
          <button class="task-start">start</button>
        </li>
      </template>
    </ul>
  </template>
</dom-module>

<script>
  DoDoList = Polymer({
    is: "dodo-list",
    ready: function(){
      this.tasks = [];
      console.log('ready');
    },
    factoryImpl: function(tasks){
      this.tasks = tasks;
      console.log(this.tasks);
    },
    
    properties: {
    },

    add: function(taskName){
      taskName = taskName || 'new task';
      this.push('tasks', {
        done: false,
        name: taskName,
        started: false,
      });
    }
  });
</script>
